{
  "openapi": "3.0.3",
  "info": {
    "title": "SimpMusic Lyrics API",
    "description": "API for accessing lyrics and translations for songs. Supports synced lyrics, plain lyrics, and community-contributed translations.\n\n**Rate Limiting:**\n- 30 requests per minute per IP address\n- Applies to all API endpoints\n- Rate limit headers are included in all responses\n- When limit is exceeded, returns HTTP 429 (Too Many Requests) with Retry-After header",
    "version": "v1",
    "contact": {
      "name": "SimpMusic Team",
      "url": "https://github.com/maxrave-dev/lyrics",
      "email": "support@simpmusic.org"
    },
    "license": {
      "name": "GPL-3.0",
      "url": "https://www.gnu.org/licenses/gpl-3.0.html"
    }
  },
  "servers": [
    {
      "url": "https://api-lyrics.simpmusic.org",
      "description": "Production server"
    }
  ],
  "tags": [
    {
      "name": "Lyrics",
      "description": "Operations for managing and retrieving lyrics"
    },
    {
      "name": "Translations",
      "description": "Operations for managing and retrieving translated lyrics"
    },
    {
      "name": "Search",
      "description": "Search operations for finding lyrics"
    },
    {
      "name": "Voting",
      "description": "Voting operations for lyrics and translations"
    }
  ],
  "paths": {
    "/v1": {
      "post": {
        "tags": ["Lyrics"],
        "summary": "Create New Lyric",
        "description": "Creates a new lyric entry with the provided lyric data. Requires HMAC authentication.",
        "operationId": "createLyric",
        "security": [
          {
            "hmacAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateLyricRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successfully created lyric",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateLyricResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid lyric data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error occurred while creating lyric",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              },
              "Retry-After": {
                "$ref": "#/components/headers/RetryAfter"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/{videoId}": {
      "get": {
        "tags": ["Lyrics"],
        "summary": "Get Lyrics by Video ID",
        "description": "Fetches lyrics associated with a specific video ID. Optionally supports pagination with limit and offset.",
        "operationId": "getLyricsByVideoId",
        "x-rate-limit": {
          "limit": 30,
          "window": "1 minute",
          "scope": "per IP address"
        },
        "parameters": [
          {
            "name": "videoId",
            "in": "path",
            "required": true,
            "description": "YouTube video ID",
            "schema": {
              "type": "string"
            },
            "example": "ZFIWU2jx7yM"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "description": "Maximum number of results to return",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "description": "Number of results to skip",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved lyrics",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LyricsResponse"
                }
              }
            }
          },
          "404": {
            "description": "Lyrics not found for the given video ID",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              },
              "Retry-After": {
                "$ref": "#/components/headers/RetryAfter"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/vote": {
      "post": {
        "tags": ["Voting"],
        "summary": "Vote for Lyric",
        "description": "Submits a vote for a lyric entry. Requires HMAC authentication.",
        "operationId": "voteForLyric",
        "security": [
          {
            "hmacAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VoteRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully voted for lyric",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "404": {
            "description": "Error occurred while processing the vote",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              },
              "Retry-After": {
                "$ref": "#/components/headers/RetryAfter"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/translated": {
      "post": {
        "tags": ["Translations"],
        "summary": "Create Translated Lyric",
        "description": "Creates a new translated lyric entry. Requires HMAC authentication.",
        "operationId": "createTranslatedLyric",
        "security": [
          {
            "hmacAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTranslatedLyricRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successfully created translated lyric",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateTranslatedLyricResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid translated lyric data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error occurred while creating translated lyric",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              },
              "Retry-After": {
                "$ref": "#/components/headers/RetryAfter"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/translated/{videoId}": {
      "get": {
        "tags": ["Translations"],
        "summary": "Get Translated Lyrics by Video ID",
        "description": "Fetches translated lyrics for a specific video ID with optional pagination using limit and offset parameters.",
        "operationId": "getTranslatedLyricsByVideoId",
        "parameters": [
          {
            "name": "videoId",
            "in": "path",
            "required": true,
            "description": "YouTube video ID",
            "schema": {
              "type": "string"
            },
            "example": "ZFIWU2jx7yM"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "description": "Maximum number of results to return",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "description": "Number of results to skip",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved translated lyrics",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TranslatedLyricsListResponse"
                }
              }
            }
          },
          "404": {
            "description": "No translated lyrics found for the given video ID",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              },
              "Retry-After": {
                "$ref": "#/components/headers/RetryAfter"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/translated/{videoId}/{language}": {
      "get": {
        "tags": ["Translations"],
        "summary": "Get Translated Lyrics by Video ID and Language",
        "description": "Fetches translated lyrics for a specific video ID and language code.",
        "operationId": "getTranslatedLyricsByVideoIdAndLanguage",
        "parameters": [
          {
            "name": "videoId",
            "in": "path",
            "required": true,
            "description": "YouTube video ID",
            "schema": {
              "type": "string"
            },
            "example": "ZFIWU2jx7yM"
          },
          {
            "name": "language",
            "in": "path",
            "required": true,
            "description": "Language code (e.g., 'en', 'es', 'fr', 'de', 'ja')",
            "schema": {
              "type": "string",
              "pattern": "^[a-z]{2}$"
            },
            "example": "en"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved translated lyrics",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TranslatedLyricsListResponse"
                }
              }
            }
          },
          "404": {
            "description": "No translated lyrics found for the given video ID and language",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              },
              "Retry-After": {
                "$ref": "#/components/headers/RetryAfter"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/translated/vote": {
      "post": {
        "tags": ["Voting"],
        "summary": "Vote for Translated Lyric",
        "description": "Submits a vote for a translated lyric entry. Requires HMAC authentication.",
        "operationId": "voteForTranslatedLyric",
        "security": [
          {
            "hmacAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VoteRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully voted for translated lyric",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "404": {
            "description": "Error occurred while processing the vote for translated lyric",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              },
              "Retry-After": {
                "$ref": "#/components/headers/RetryAfter"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/search": {
      "get": {
        "tags": ["Search"],
        "summary": "Search Lyrics",
        "description": "Performs a general search across lyrics content with optional pagination using limit and offset parameters.",
        "operationId": "searchLyrics",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "description": "Search query string",
            "schema": {
              "type": "string"
            },
            "example": "Imagine Dragons"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "description": "Maximum number of results to return",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "description": "Number of results to skip",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved lyrics matching the search query",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LyricsListResponse"
                }
              }
            }
          },
          "404": {
            "description": "No lyrics found for the search query",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error occurred while searching lyrics",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              },
              "Retry-After": {
                "$ref": "#/components/headers/RetryAfter"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/search/title": {
      "get": {
        "tags": ["Search"],
        "summary": "Search Lyrics by Song Title",
        "description": "Searches for lyrics by song title with optional pagination using limit and offset parameters.",
        "operationId": "searchLyricsByTitle",
        "parameters": [
          {
            "name": "title",
            "in": "query",
            "required": true,
            "description": "Song title to search for",
            "schema": {
              "type": "string"
            },
            "example": "Radioactive"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "description": "Maximum number of results to return",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "description": "Number of results to skip",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved lyrics matching the title",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LyricsListResponse"
                }
              }
            }
          },
          "404": {
            "description": "No lyrics found for the given title",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error occurred while searching lyrics",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              },
              "Retry-After": {
                "$ref": "#/components/headers/RetryAfter"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/search/artist": {
      "get": {
        "tags": ["Search"],
        "summary": "Search Lyrics by Artist",
        "description": "Searches for lyrics by artist name with optional pagination using limit and offset parameters.",
        "operationId": "searchLyricsByArtist",
        "parameters": [
          {
            "name": "artist",
            "in": "query",
            "required": true,
            "description": "Artist name to search for",
            "schema": {
              "type": "string"
            },
            "example": "Imagine Dragons"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "description": "Maximum number of results to return",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "description": "Number of results to skip",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved lyrics by the artist",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LyricsListResponse"
                }
              }
            }
          },
          "404": {
            "description": "No lyrics found for the given artist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error occurred while searching lyrics",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/RateLimitLimit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/RateLimitRemaining"
              },
              "X-RateLimit-Reset": {
                "$ref": "#/components/headers/RateLimitReset"
              },
              "Retry-After": {
                "$ref": "#/components/headers/RetryAfter"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "headers": {
      "RateLimitLimit": {
        "description": "The number of allowed requests in the current period",
        "schema": {
          "type": "integer",
          "format": "int32",
          "example": 30
        }
      },
      "RateLimitRemaining": {
        "description": "The number of remaining requests in the current period",
        "schema": {
          "type": "integer",
          "format": "int32",
          "example": 29
        }
      },
      "RateLimitReset": {
        "description": "The time at which the current rate limit window resets (Unix timestamp in seconds)",
        "schema": {
          "type": "integer",
          "format": "int64",
          "example": 1706820000
        }
      },
      "RetryAfter": {
        "description": "The number of seconds to wait before retrying the request (only present in 429 responses)",
        "schema": {
          "type": "integer",
          "format": "int32",
          "example": 60
        }
      }
    },
    "securitySchemes": {
      "hmacAuth": {
        "type": "apiKey",
        "in": "header",
        "name": "X-HMAC",
        "description": "HMAC authentication token. Generate HMAC using: timestamp + request_uri, with secret key 'simpmusic-lyrics'. Also include X-Timestamp header with current time in milliseconds."
      }
    },
    "schemas": {
      "LyricsResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the lyric entry"
          },
          "videoId": {
            "type": "string",
            "description": "YouTube video ID"
          },
          "songTitle": {
            "type": "string",
            "description": "Title of the song"
          },
          "artistName": {
            "type": "string",
            "description": "Name of the artist"
          },
          "albumName": {
            "type": "string",
            "description": "Name of the album (optional)"
          },
          "durationSeconds": {
            "type": "integer",
            "format": "int32",
            "description": "Duration of the song in seconds"
          },
          "plainLyric": {
            "type": "string",
            "description": "Plain text lyrics without timing information"
          },
          "syncedLyrics": {
            "type": "string",
            "description": "Synced lyrics in LRC format with line-level timing"
          },
          "richSyncLyrics": {
            "type": "string",
            "description": "Rich synced lyrics with word-level timing"
          },
          "vote": {
            "type": "integer",
            "format": "int32",
            "description": "Vote count for this lyric entry"
          },
          "contributor": {
            "type": "string",
            "description": "Name of the contributor who added this lyric"
          },
          "contributorEmail": {
            "type": "string",
            "description": "Email of the contributor (may be hidden)"
          }
        }
      },
      "LyricsListResponse": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LyricsResponse"
            },
            "description": "Array of lyric entries"
          },
          "success": {
            "type": "boolean",
            "description": "Indicates if the request was successful"
          }
        },
        "required": ["data", "success"]
      },
      "TranslatedLyric": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the translated lyric entry"
          },
          "videoId": {
            "type": "string",
            "description": "YouTube video ID"
          },
          "translatedLyric": {
            "type": "string",
            "description": "Translated lyric text"
          },
          "language": {
            "type": "string",
            "description": "Language code (e.g., 'en', 'es', 'fr')"
          },
          "vote": {
            "type": "integer",
            "format": "int32",
            "description": "Vote count for this translated lyric"
          },
          "contributor": {
            "type": "string",
            "description": "Name of the contributor who added this translation"
          },
          "contributorEmail": {
            "type": "string",
            "description": "Email of the contributor (may be hidden)"
          }
        }
      },
      "TranslatedLyricsListResponse": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TranslatedLyric"
            },
            "description": "Array of translated lyric entries"
          },
          "success": {
            "type": "boolean",
            "description": "Indicates if the request was successful"
          }
        },
        "required": ["data", "success"]
      },
      "CreateLyricRequest": {
        "type": "object",
        "required": ["videoId", "songTitle", "artistName"],
        "properties": {
          "videoId": {
            "type": "string",
            "description": "YouTube video ID"
          },
          "songTitle": {
            "type": "string",
            "description": "Title of the song"
          },
          "artistName": {
            "type": "string",
            "description": "Name of the artist"
          },
          "albumName": {
            "type": "string",
            "description": "Name of the album (optional)"
          },
          "durationSeconds": {
            "type": "integer",
            "format": "int32",
            "description": "Duration of the song in seconds"
          },
          "plainLyric": {
            "type": "string",
            "description": "Plain text lyrics without timing information"
          },
          "syncedLyrics": {
            "type": "string",
            "description": "Synced lyrics in LRC format with line-level timing"
          },
          "richSyncLyrics": {
            "type": "string",
            "description": "Rich synced lyrics with word-level timing"
          },
          "vote": {
            "type": "integer",
            "format": "int32",
            "description": "Initial vote count (defaults to 0)"
          },
          "contributor": {
            "type": "string",
            "description": "Name of the contributor"
          },
          "contributorEmail": {
            "type": "string",
            "format": "email",
            "description": "Email of the contributor"
          }
        }
      },
      "CreateLyricResponse": {
        "type": "object",
        "properties": {
          "data": {
            "$ref": "#/components/schemas/LyricsResponse"
          },
          "success": {
            "type": "boolean"
          }
        },
        "required": ["data", "success"]
      },
      "CreateTranslatedLyricRequest": {
        "type": "object",
        "required": ["videoId", "translatedLyric", "language"],
        "properties": {
          "videoId": {
            "type": "string",
            "description": "YouTube video ID"
          },
          "translatedLyric": {
            "type": "string",
            "description": "Translated lyric text"
          },
          "language": {
            "type": "string",
            "pattern": "^[a-z]{2}$",
            "description": "Language code (ISO 639-1, e.g., 'en', 'es', 'fr')"
          },
          "vote": {
            "type": "integer",
            "format": "int32",
            "description": "Initial vote count (defaults to 0)"
          },
          "contributor": {
            "type": "string",
            "description": "Name of the contributor"
          },
          "contributorEmail": {
            "type": "string",
            "format": "email",
            "description": "Email of the contributor"
          }
        }
      },
      "CreateTranslatedLyricResponse": {
        "type": "object",
        "properties": {
          "data": {
            "$ref": "#/components/schemas/TranslatedLyric"
          },
          "success": {
            "type": "boolean"
          }
        },
        "required": ["data", "success"]
      },
      "VoteRequest": {
        "type": "object",
        "required": ["id"],
        "properties": {
          "id": {
            "type": "string",
            "description": "ID of the lyric or translated lyric to vote for"
          }
        }
      },
      "SuccessResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indicates if the operation was successful"
          }
        },
        "required": ["success"]
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "object",
            "properties": {
              "error": {
                "type": "boolean",
                "description": "Indicates if an error occurred"
              },
              "code": {
                "type": "integer",
                "format": "int32",
                "description": "HTTP status code"
              },
              "reason": {
                "type": "string",
                "description": "Error message or reason"
              }
            },
            "required": ["error", "code", "reason"]
          },
          "success": {
            "type": "boolean",
            "description": "Always false for error responses"
          }
        },
        "required": ["error", "success"]
      }
    }
  },
  "security": [],
  "x-rate-limit": {
    "description": "Rate limiting applies to all endpoints",
    "limit": 30,
    "window": "1 minute",
    "unit": "requests per IP address",
    "scope": "per IP address",
    "headers": {
      "X-RateLimit-Limit": "The maximum number of requests allowed per window",
      "X-RateLimit-Remaining": "The number of requests remaining in the current window",
      "X-RateLimit-Reset": "Unix timestamp (seconds) when the rate limit window resets",
      "Retry-After": "Number of seconds to wait before retrying (in 429 responses)"
    },
    "behavior": {
      "whenExceeded": "Returns HTTP 429 Too Many Requests",
      "retryAfter": "Wait until X-RateLimit-Reset timestamp or Retry-After seconds"
    }
  },
  "x-hmac-authentication": {
    "description": "HMAC authentication is required for all non-GET requests (POST, PUT, DELETE, PATCH)",
    "algorithm": "HMAC-SHA256",
    "secret": "simpmusic-lyrics",
    "steps": [
      "Generate a timestamp (current time in milliseconds)",
      "Create data string: timestamp + request_uri",
      "Generate HMAC using the shared secret key",
      "Add headers: X-Timestamp (timestamp) and X-HMAC (generated HMAC token)"
    ],
    "references": {
      "example": "https://github.com/maxrave-dev/lyrics/blob/main/src/main/kotlin/org/simpmusic/lyrics/presentation/controller/SecurityController.kt",
      "service": "https://github.com/maxrave-dev/lyrics/blob/main/src/main/kotlin/org/simpmusic/lyrics/infrastructure/config/HmacService.kt"
    }
  }
}
